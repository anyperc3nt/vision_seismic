# Руководство пользователя: Генерация сейсмограмм

Данное руководство описывает порядок действий для генерации синтетических сейсмограмм с использованием данного репозитория.

## Шаг 1: Настройка конфигурации датасета

Создайте один или несколько конфигурационных файлов в формате `.yaml` в директории `model_configs/` (все конфигурационные возможности отображены в `example_config.yaml`)

## Шаг 2: Генерация геологических моделей

Запустите основной скрипт предобработки:

```bash
python3 main.py
```

**Дополнительный флаг:**
- `--save_plots`: включает сохранение графиков распределений для отладки.  
  **Важно:** при генерации больших датасетов использование этого флага не рекомендуется из-за увеличения времени выполнения.

## Шаг 3: Генерация скриптов запуска

Выполните скрипт генерации batch-скриптов:

```bash
python3 script_gen.py
```

Перед запуском необходимо изменить параметры внутри `script_gen.py`:
- `rect_path`: путь до скомпилированного бинарника `rect`;
- `slurm_header`: шаблон заголовка SLURM (может быть пустым, если на машине нет SLURM);
- `batch_size`: количество сейсмограмм в одном скрипте.

После запуска скрипта `.sh`-файлы будут созданы в директории `scripts/`.

## Шаг 4: Запуск вычислений

Выполните запуск расчётов с помощью:

```bash
python3 run_compute.py scripts/run_computeN.sh
```

Замените `run_computeN.sh` на имя нужного скрипта.

---
